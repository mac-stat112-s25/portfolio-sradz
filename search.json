[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "COMP/STAT112 Notebook",
    "section": "",
    "text": "Welcome\nWelcome to my online portfolio for COMP/STAT112 course taken at Macalester College. Please, use the side bar on the left for navigation.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "bw/bw-uni.html",
    "href": "bw/bw-uni.html",
    "title": "\n1  Univariate Viz\n",
    "section": "",
    "text": "Use this file to generate a professional looking univariate visualization. The visualization will not perfect the first time but you are expected to improve on it throughout the semester especially after covering advanced topics such as effective viz.\n\n# load packages and data\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nelections &lt;- read.csv(\"https://mac-stat.github.io/data/election_2020_county.csv\")\n\n\n# Make a ggplot\nggplot(elections, aes(x=median_rent))+\n  geom_histogram(binwidth = 100, color=\"black\", fill=\"steelblue3\")+\n  labs(title = \"Median Rent in the United States\",\n       subtitle = \"Distribution of the median rent per county\",\n       x = \"Median Rent ($)\",\n       y = \"Number of Counties\",\n       caption = \"Created by Sarah, Data from 270towin.com\")+\n  theme_grey()+\n  theme(plot.title=element_text(face=\"bold\", size=15),\n        plot.caption=element_text(size=8, face=\"italic\"))",
    "crumbs": [
      "Best Work",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "bw/bw-bi.html",
    "href": "bw/bw-bi.html",
    "title": "\n2  Bivariate Viz\n",
    "section": "",
    "text": "Use this file to generate a professional looking bivariate visualization. The visualization will not perfect the first time but you are expected to improve it throughout the semester especially after covering advanced topics such as effective viz.\n\n# set-up (load packages, import data)\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nweather &lt;- read.csv(\"https://mac-stat.github.io/data/weather_3_locations.csv\")\n\n# create plot\n# How do 3pm temperatures (temp3pm) differ by location?\nggplot(weather, aes(y=temp3pm, fill=location))+\n  geom_boxplot(width=0.7)+\n  facet_wrap(~location)+\n  labs(title = \"Temperatures at 3pm in Three Australian Locations\",\n       y = \"Temperature (*C)\",\n       fill = \"Location\",\n       caption = \"created by Sarah, data from weatherAUS in the rattle package\"\n       )+\n  theme(plot.title = element_text(hjust=0.5, face=\"bold\"),\n        axis.text.x = element_blank(),\n        axis.ticks.x = element_blank(),\n        plot.caption = element_text(face=\"italic\"), size = 8)+\n    scale_fill_viridis_d(alpha=0.6)    \n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\nWarning in plot_theme(plot): The `size` theme element is not defined in the\nelement hierarchy.",
    "crumbs": [
      "Best Work",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Bivariate Viz</span>"
    ]
  },
  {
    "objectID": "bw/bw-tri.html",
    "href": "bw/bw-tri.html",
    "title": "\n3  Trivariate Viz\n",
    "section": "",
    "text": "Use this file to generate a professional looking trivariate visualization. The visualization will not perfect the first time but you are expected to improve on it throughout the semester especially after covering advanced topics such as effective viz.\n\n# load packages and data\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\neducation &lt;- read.csv(\"https://mac-stat.github.io/data/sat.csv\")\n\n\n# make the plot\nggplot(education, aes(x=expend, y=sat, color=fracCat))+\n  geom_point(\n    size = 2, alpha=0.8\n  )+\n  geom_smooth(method=\"lm\", se=FALSE)+\n  labs(title = \"SAT scores vs. Education Spending, by Percent of Students Tested\",\n       subtitle = \"Numbers from 1994-95 school year\",\n       x = \"Expenditure per pupil (in thousands of dollars)\",\n       y = \"Average total SAT score\",\n       color = \"Percent of students \\ntaking the SAT\",\n       caption = \"Created by Sarah, data from Deborah Lynn Guber and Danny Kaplan\")+\n  theme(plot.title = element_text(face = \"bold\", size=13),\n    plot.caption = element_text(face = \"italic\"), size = 6)+\n  scale_color_manual(values = c(\"darkblue\",\"green3\",\"red3\"),\n                     labels = c(\"0 to 15%\", \"15.01 to 45%\", \"45.01 to 100%\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning in plot_theme(plot): The `size` theme element is not defined in the\nelement hierarchy.",
    "crumbs": [
      "Best Work",
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Trivariate Viz</span>"
    ]
  },
  {
    "objectID": "bw/bw-quad.html",
    "href": "bw/bw-quad.html",
    "title": "\n4  Quadvariate Viz\n",
    "section": "",
    "text": "Use this file to generate a professional looking quadvariate visualization. The visualization will not perfect the first time but you are expected to improve on it throughout the semester especially after covering advanced topics such as effective viz.\n\n# packages\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nelections &lt;- read.csv(\"https://mac-stat.github.io/data/election_2020_county.csv\")\n\nelections_GA &lt;- elections |&gt; \n  filter(state_abbr %in% c(\"GA\"))\n\n# create plot\nggplot(elections_GA, aes(x=percent_black, y=repub_pct_16, color=winner_16, shape=winner_12))+\n  geom_point(size=3)+\n  scale_color_manual(values=c(\"blue\",\"red\"), labels = c(\"Democrat\", \"Republican\"))+\n  scale_shape_manual(values = c(\"D\",\"R\"), labels=c(\"Democrat\", \"Repubican\"))+\n  labs(title = \"How does Repblican Voting vary by race in Georgia?\",\n       subtitle = \"Each point represents 1 county in Georgia\",\n       x = \"Percent Black\",\n       y = \"Percent Voted Republican (2016)\",\n       shape = \"Winner 2012\",\n       color = \"Winner 2016\",\n       caption = \"created by Sarah, data from 270towin.com\")+\n  theme(plot.title = element_text(face = \"bold\", size = 18),\n        plot.caption=element_text(face = \"italic\"))",
    "crumbs": [
      "Best Work",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Quadvariate Viz</span>"
    ]
  },
  {
    "objectID": "bw/bw-spatial.html",
    "href": "bw/bw-spatial.html",
    "title": "\n5  Spatial Viz\n",
    "section": "",
    "text": "Use this file to generate a professional looking spatial visualization. The visualization will not perfect the first time but you are expected to improve on it throughout the semester especially after covering advanced topics such as effective viz.\n\n# load packages\nlibrary(maps)\nlibrary(sf)\n\nLinking to GEOS 3.13.0, GDAL 3.10.1, PROJ 9.5.1; sf_use_s2() is TRUE\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n✖ purrr::map()    masks maps::map()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(socviz)\nlibrary(mosaic)\n\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n\n# import and modify data\ndata(county_map)\nstarbucks &lt;- read.csv(\"https://mac-stat.github.io/data/starbucks.csv\")\n\nMN_map &lt;- st_as_sf(\n  maps::map(\"county\",\n            region = c(\"minnesota\"), \n            fill = TRUE,\n            plot = FALSE))\n\nstarbucks_MN &lt;- starbucks |&gt;\n  filter(Country == \"US\", State.Province == \"MN\")\n\n\n# plots\nggplot(MN_map)+\n  geom_sf()+\n  geom_point(\n    data = starbucks_MN,\n    aes(x=Longitude, y=Latitude),\n    size=1.75,\n    alpha = 0.5,\n    color = \"darkgreen\")+\n  theme_map()+\n  labs(title = \"Starbucks in Minnesota\",\n       subtitle = \"Each green dot represents 1 Starbucks location\",\n       caption = \"map created by Sarah, Starbucks data by Danny Kaplan\")+\n  theme(plot.title=element_text(color=\"darkgreen\", face=\"bold\", size=25),\n        plot.subtitle=element_text(size=10),\n        plot.caption = element_text(size=8, face = \"italic\"))",
    "crumbs": [
      "Best Work",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Spatial Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html",
    "href": "ica/ica-uni.html",
    "title": "\n6  Univariate Viz\n",
    "section": "",
    "text": "Exercise 1: Research Questions\nhead(hikes)\n\n             peak elevation difficulty ascent length time    rating\n1     Mt. Marcy        5344          5   3166   14.8 10.0  moderate\n2 Algonquin Peak       5114          5   2936    9.6  9.0  moderate\n3   Mt. Haystack       4960          7   3570   17.8 12.0 difficult\n4   Mt. Skylight       4926          7   4265   17.9 15.0 difficult\n5 Whiteface Mtn.       4867          4   2535   10.4  8.5      easy\n6       Dix Mtn.       4857          5   2800   13.2 10.0  moderate",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-1-research-questions",
    "href": "ica/ica-uni.html#exercise-1-research-questions",
    "title": "\n6  Univariate Viz\n",
    "section": "",
    "text": "What features would we like a visualization of the categorical difficulty rating variable to capture?\n\n\nthe frequency of each difficulty (how many hikes are moderate, etc)\nthe percentage of each difficulty (what percent were moderate, etc)\n\n\nWhat about a visualization of the quantitative elevation variable?\n\n\nthe number of peaks within a certain threshold (eg 4500-5000, 5001-5500, etc)",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-2-load-tidyverse",
    "href": "ica/ica-uni.html#exercise-2-load-tidyverse",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 2: Load Tidyverse",
    "text": "Exercise 2: Load Tidyverse\n\n# Use the ggplot function\nggplot(hikes, aes(x = rating))",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-3-bar-chart-of-ratings---part-1",
    "href": "ica/ica-uni.html#exercise-3-bar-chart-of-ratings---part-1",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 3: Bar Chart of Ratings - Part 1",
    "text": "Exercise 3: Bar Chart of Ratings - Part 1\n\n# Adds a bar chart with the number/count of hikes of each difficulty [geom_bar()]\nggplot(hikes, aes(x = rating)) +\n  geom_bar()\n\n\n\n\n\n\n\n\n# Adds a layer (label) that changes the y-axis label to be \"Number of hikes\" [labs(y = \"Number of hikes\")]\nggplot(hikes, aes(x = rating)) +\n  geom_bar() +\n  labs(x = \"Rating\", y = \"Number of hikes\")\n\n\n\n\n\n\n\n\n# Makes the colors of the bars blue [geom_bar(fill = \"blue\")]\nggplot(hikes, aes(x = rating)) +\n  geom_bar(fill = \"blue\") +\n  labs(x = \"Rating\", y = \"Number of hikes\")\n\n\n\n\n\n\n\n\n# Makes the outline of the bars orange [adds color = \"orange\" to geom_bar()]\nggplot(hikes, aes(x = rating)) +\n  geom_bar(color = \"orange\", fill = \"blue\") +\n  labs(x = \"Rating\", y = \"Number of hikes\")",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-4-bar-chart-of-ratings---part-2",
    "href": "ica/ica-uni.html#exercise-4-bar-chart-of-ratings---part-2",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 4: Bar Chart of Ratings - Part 2",
    "text": "Exercise 4: Bar Chart of Ratings - Part 2\n\n# changes the style of the plot background [theme_minimal()]\nggplot(hikes, aes(x = rating)) +\n  geom_bar(color = \"orange\", fill = \"blue\")  +\n  labs(x = \"Rating\", y = \"Number of hikes\") +\n  theme_minimal()",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-5-bar-chart-follow-up",
    "href": "ica/ica-uni.html#exercise-5-bar-chart-follow-up",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 5: Bar Chart Follow-up",
    "text": "Exercise 5: Bar Chart Follow-up\nPart a\nReflect on the ggplot() code.\n\nWhat’s the purpose of the +? When do we use it?\n\nThe + adds another layer to the plot. We use it when we want to add an additional component to our chart (eg labels, graph, etc)\n\n\nWe added the bars using geom_bar()? Why “geom”?\nGeometric??\nWhat does labs() stand for?\n\nLabels\n\n\nWhat’s the difference between color and fill?\n\nColoroutlines the bars, butfill` fills in the bars\n\n\nPart b\nIn general, bar charts allow us to examine the following properties of a categorical variable:\n\n\nobserved categories: What categories did we observe?\n\nrating of hike (easy, moderate, difficult)\n\n\n\nvariability between categories: Are observations evenly spread out among the categories, or are some categories more common than others? Some categories are more common than others.\n\nModerate was the most frequent and difficult was the least frequent.\n\n\n\nWe must then translate this information into the context of our analysis, here hikes in the Adirondacks. Summarize below what you learned from the bar chart, in context.\nThe majority of hikes in the Adirondacks were rated ‘moderate.’ Specifically, 27 of the 46 hikes (58.69%) were moderate. Difficult was the least frequent rating, with only 8 ratings.\nPart c\nIs there anything you don’t like about this barplot? For example: check out the x-axis again.\nThere is a space between each of the bars. I also didn’t like the ordering of the hikes.",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-6-sad-bar-chart",
    "href": "ica/ica-uni.html#exercise-6-sad-bar-chart",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 6: Sad Bar Chart",
    "text": "Exercise 6: Sad Bar Chart\n\nggplot(hikes, aes(x=elevation)) +\n  geom_bar()\n\n\n\n\n\n\n\n\nThis plot shows each hike’s elevation as an individual bar. This isn’t helpful when determining the frequency of hikes within an elevation range/threshhold.",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-7-a-historgram-of-elevation",
    "href": "ica/ica-uni.html#exercise-7-a-historgram-of-elevation",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 7: A Historgram of Elevation",
    "text": "Exercise 7: A Historgram of Elevation\n\nthere are 6 hikes with an elevation between 4500 and 4700 ft\n4 hikes have an elevation &gt;5100 ft\n\nDescribe the Histogram: The center is around 4500 ft, while the average or typical hike elevation is between 4250 and 4500 ft. The hike distribution is unimodal and skewed right. The lowest hike has an elevation around 3800ft, while the highest hike has an elevation of ~5400 ft. Most of the hikes are between 4000 and 4750 ft and very few are above 5000 ft. There don’t appear to be any outliers.",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-8-building-histograms---part-1",
    "href": "ica/ica-uni.html#exercise-8-building-histograms---part-1",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 8: Building Histograms - Part 1",
    "text": "Exercise 8: Building Histograms - Part 1\n\nggplot(hikes, aes(x = elevation)) +\n  geom_histogram()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-9-building-histograms---part-2",
    "href": "ica/ica-uni.html#exercise-9-building-histograms---part-2",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 9: Building Histograms - Part 2",
    "text": "Exercise 9: Building Histograms - Part 2\n\n# Adds a histogram [geom_histogram()]\nggplot(hikes, aes(x = elevation)) +\n  geom_histogram()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n# Outlines each bar in white [color = \"white\"]\nggplot(hikes, aes(x = elevation)) +\n  geom_histogram(color = \"white\") \n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n# Makes the bars blue (fill = \"blue\")\nggplot(hikes, aes(x = elevation)) +\n  geom_histogram(color = \"white\", fill = \"blue\") \n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n# Adds labels to the plot axes [+ labs(x=\"\", y = \"\")]\nggplot(hikes, aes(x = elevation)) +\n  geom_histogram(color = \"white\") +\n  labs(x = \"Elevation (feet)\", y = \"Number of hikes\")\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n# Makes the width of the bars 1000 [binwidth = 1000]\nggplot(hikes, aes(x = elevation)) +\n  geom_histogram(color = \"white\", binwidth = 1000) +\n  labs(x = \"Elevation (feet)\", y = \"Number of hikes\")\n\n\n\n\n\n\n\n\n# Changes the width of the bars to be 5 (binwidth = 5)\nggplot(hikes, aes(x = elevation)) +\n  geom_histogram(color = \"white\", binwidth = 5) +\n  labs(x = \"Elevation (feet)\", y = \"Number of hikes\")\n\n\n\n\n\n\n\n\n# Changes the bar width to 200 [binwidth = 200]\nggplot(hikes, aes(x = elevation)) +\n  geom_histogram(color = \"white\", binwidth = 200) +\n  labs(x = \"Elevation (feet)\", y = \"Number of hikes\")",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-10-histogram-follow-up",
    "href": "ica/ica-uni.html#exercise-10-histogram-follow-up",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 10: Histogram Follow-Up",
    "text": "Exercise 10: Histogram Follow-Up\n\nWhat function added the histogram layer / geometry?\n\ngeom_histogram()\n\n\nWhat’s the difference between color and fill?\n\n\ncolor edits the outline color, fill fills in the bars\n\n\nWhy does adding color = “white” improve the visualization?\n\nbecause the bars are next to eachother\n\n\nWhat did binwidth do?\n\nchanges the width (range of elevations) of the bars\n\n\nWhy does the histogram become ineffective if the binwidth is too big (e.g. 1000 feet)?\n\nmakes too few bars with high frequency\n\n\nWhy does the histogram become ineffective if the binwidth is too small (e.g. 5 feet)?\n\nmakes too many bars with low frequency",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-11-density-plots",
    "href": "ica/ica-uni.html#exercise-11-density-plots",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 11: Density Plots",
    "text": "Exercise 11: Density Plots\n\nggplot(hikes, aes(x = elevation)) +\n  geom_density()",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-12-density-plots-vs-histograms",
    "href": "ica/ica-uni.html#exercise-12-density-plots-vs-histograms",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 12: Density Plots vs Histograms",
    "text": "Exercise 12: Density Plots vs Histograms\n\ngeom_density(color = \"blue\") makes the outline of the curve blue\ngeom_density(fill = \"orange\") makes the area under the curve orange\ndensity plots don’t show the bars, unlike histograms, but they both show which values have the highest and lowest frequencies\ntypical elevation is between 4000 and 4250 ft\nrange is between approx 3800 and 5400\nthe shape is unimodal and skewed right\nmajority of the hikes are between certain elevations, with some high outliers",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-13-code-communication",
    "href": "ica/ica-uni.html#exercise-13-code-communication",
    "title": "\n6  Univariate Viz\n",
    "section": "Exercise 13: Code = communication",
    "text": "Exercise 13: Code = communication\n\n# YUCK\n# put indents or tabs for lines of code after the first line \n# so you can remember which plot the layers are part of \nggplot(hikes, aes(x = elevation)) +\ngeom_histogram(color = \"white\", binwidth = 200) +\nlabs(x = \"Elevation (feet)\", y = \"Number of hikes\")\n\n\n\n\n\n\n\n\n# YUCK \n# also hard to follow which plot the layers are modifying \n# and it doesn't fit on one line (scroll wheel when rendered)\nggplot(hikes, aes(x = elevation)) + geom_histogram(color = \"white\", binwidth = 200) + labs(x = \"Elevation (feet)\", y = \"Number of hikes\")",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-uni.html#exercise-14-practice",
    "href": "ica/ica-uni.html#exercise-14-practice",
    "title": "\n6  Univariate Viz\n",
    "section": "\n6.1 Exercise 14: Practice",
    "text": "6.1 Exercise 14: Practice\n\n# Data on students in this class\nsurvey &lt;- read.csv(\"https://hash-mac.github.io/stat112site-s25/data/survey.csv\")\n\n# World Cup data\nworld_cup &lt;- read.csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-11-29/worldcups.csv\")\n\nggplot(world_cup,aes(x=winner))+\n  geom_bar(color=\"white\",fill=\"#56b05b\", linewidth=1/2)+\n  labs(title=\"World Cup Winners\",x=\"Country\", y=\"# of Wins\")+\n  theme_dark()\n\n\n\n\n\n\nggplot(world_cup,aes(x=goals_scored))+\n  geom_histogram(binwidth=15,color=\"black\", fill=\"grey\")+\n  labs(title=\"Goals Scored\",x=\"Goals\",y=\"Frequency\")",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Univariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-bi.html",
    "href": "ica/ica-bi.html",
    "title": "\n7  Bivariate Viz\n",
    "section": "",
    "text": "Review\n# Import data\nsurvey&lt;- read.csv(\"https://hash-mac.github.io/stat112site-s25/data/survey.csv\")\n\n# How many students have now filled out the survey?\nnrow(survey)\n\n[1] 49\n\n# What type of variables do we have?\nstr(survey)\n\n'data.frame':   49 obs. of  4 variables:\n $ cafe_mac         : chr  \"mashed potatoes\" \"is tasty\" \"burger\" \"caesar salad\" ...\n $ minutes_to_campus: int  5 5 5 12 0 10 5 0 0 5 ...\n $ fav_temp_c       : num  26 28 19 18 24 -10 21 25 18 25 ...\n $ hangout          : chr  \"the mountains\" \"a city\" \"a forest\" \"a forest\" ...",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Bivariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-bi.html#review",
    "href": "ica/ica-bi.html#review",
    "title": "\n7  Bivariate Viz\n",
    "section": "",
    "text": "Example 1\n\n# Attach a package needed to use the ggplot function\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n# Make a ggplot\nggplot(survey,aes(x=hangout))+\n  geom_bar()+\n  labs(x=\"hangout place\", y=\"# of responses\")\n\n\n\n\n\n\n\nExample 2\n\nggplot(survey, aes(x=fav_temp_c))+\n  geom_histogram(binwidth=3,color=\"white\")+\n  labs(x=\"temperature (*C)\")\n\n\n\n\n\n\nggplot(survey, aes(x=fav_temp_c))+\n  geom_density()\n\n\n\n\n\n\n\n\ntypical response is around 20*C\ndata is unimodal, skewed left\nrange is -40*C to 65C\npotentially low and high outliers",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Bivariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-bi.html#in-class-exercises",
    "href": "ica/ica-bi.html#in-class-exercises",
    "title": "\n7  Bivariate Viz\n",
    "section": "In-Class Exercises",
    "text": "In-Class Exercises\nExercise 0: Review\n\n# Load data\nelections &lt;- read.csv(\"https://mac-stat.github.io/data/election_2020_county.csv\")\n\n# Check it out\nhead(elections)\n\n  state_name state_abbr historical    county_name county_fips total_votes_20\n1    Alabama         AL        red Autauga County        1001          27770\n2    Alabama         AL        red Baldwin County        1003         109679\n3    Alabama         AL        red Barbour County        1005          10518\n4    Alabama         AL        red    Bibb County        1007           9595\n5    Alabama         AL        red  Blount County        1009          27588\n6    Alabama         AL        red Bullock County        1011           4613\n  repub_pct_20 dem_pct_20 winner_20 total_votes_16 repub_pct_16 dem_pct_16\n1        71.44      27.02     repub          24661        73.44      23.96\n2        76.17      22.41     repub          94090        77.35      19.57\n3        53.45      45.79     repub          10390        52.27      46.66\n4        78.43      20.70     repub           8748        76.97      21.42\n5        89.57       9.57     repub          25384        89.85       8.47\n6        24.84      74.70       dem           4701        24.23      75.09\n  winner_16 total_votes_12 repub_pct_12 dem_pct_12 winner_12 total_population\n1     repub          23909        72.63      26.58     repub            54907\n2     repub          84988        77.39      21.57     repub           187114\n3     repub          11459        48.34      51.25       dem            27321\n4     repub           8391        73.07      26.22     repub            22754\n5     repub          23980        86.49      12.35     repub            57623\n6       dem           5318        23.51      76.31       dem            10746\n  percent_white percent_black percent_asian percent_hispanic per_capita_income\n1            76            18             1                2             24571\n2            83             9             1                4             26766\n3            46            46             0                5             16829\n4            75            22             0                2             17427\n5            88             1             0                8             20730\n6            22            71             0                6             18628\n  median_rent median_age\n1         668       37.5\n2         693       41.5\n3         382       38.3\n4         351       39.4\n5         403       39.6\n6         276       39.6\n\n\n\nggplot(elections,aes(x=winner_20))+\n  geom_bar()\n\n\n\n\n\n\n\n\nover 2000 of the 3000 counties voted republican\nhow can we get the exact number of republican counties?\nhow has the winning party shifted over time (2012 vs 2016 vs 2020)?\nthe data includes race percentages in each county, so we could analyze majority race and winning party in elections\n\n\nggplot(elections, aes(x=repub_pct_20))+\n  geom_histogram(color=\"white\", binwidth = 3)\n\n\n\n\n\n\n\n\nSkewed left (more counties with a majority (or supermajority) republican voters)\nwhich state has the most republican counties?\nExercise 1\n\nggplot(elections,aes(x=repub_pct_16,y=repub_pct_20))+\n  geom_point()\n\n\n\n\n\n\n\nExercise 2\n\n# Set up the plotting frame\n# This plotting frame automatically labels the x and y axes\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16))\n\n\n\n\n\n\n# Add a layer of points for each county\n# use geom_point() for a scatterplot\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_point()\n\n\n\n\n\n\n# Change the shape of the points\n# each number represents a different shape (eg 2 is triangles, 3 is plus signs, 4 is x's, etc)\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_point(shape = 4)\n\n\n\n\n\n\n# YOU TRY: Modify the code to make the points \"orange\"\n# NOTE: Try to anticipate if \"color\" or \"fill\" will be useful here. Then try both. \n# \"color\" changes the color of the shapes, but \"fill\" doesn't do anything\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_point(color=\"orange\")\n\n\n\n\n\n\n# Add a layer that represents each county by the state it's in\n# Take note of the geom and the info it needs to run! [geom_text() fn]\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_text(aes(label = state_abbr))\n\n\n\n\n\n\n\nExercise 3\n\nstrong relationship, positive (republican percentage didn’t change much between 2016 and 2020)\nsome outliers in TX, ID, UT w/ significantly higher GOP percentage in 2020 compared to 2016\nExercise 4\n\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_point() +\n  geom_smooth()\n\n`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")'\n\n\n\n\n\n\n\n# no points\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_smooth()\n\n`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")'\n\n\n\n\n\n\n\n# linear model\nggplot(elections, aes(y = repub_pct_20, x = repub_pct_16)) +\n  geom_point() +\n  geom_smooth(method=\"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nExercise 5\n\n# Scatterplot of repub_pct_20 vs median_rent\nggplot(elections, aes(x=median_rent, y=repub_pct_20))+\n  geom_point()\n\n\n\n\n\n\n# Scatterplot of repub_pct_20 vs median_age\nggplot(elections, aes(x=median_age, y=repub_pct_20))+\n  geom_point()\n\n\n\n\n\n\n\n\nGOP percentage (2020) vs median_rent is a slightly weak, negative relationship\n\nas median rent increases, GOP percentage increases, though there are some outliers w/ low median rent and low GOP %\n\n\nGOP percentage (2020) vs median_age is not linear, but there is a cluster of high GOP % counties around 40 years\nI think median_rent is a better predictor repub_pct_20\nExercise 6\n\nscatterplots have to be between 2 quantitative variables (not 1 quantitative and 1 categorical) b/c the x and y axes are numbers\nit doesn’t tell us the frequency or count of historically red counties that have a high % of republican votes in 2020\n\n\nggplot(elections, aes(y = repub_pct_20, x = historical)) +\n  geom_point()\n\n\n\n\n\n\n\nExercise 7\n\n# Side-by-side violin plots\nggplot(elections, aes(y = repub_pct_20, x = historical)) +\n  geom_violin()\n\n\n\n\n\n\n# Side-by-side boxplots (defined below)\nggplot(elections, aes(y = repub_pct_20, x = historical)) +\n  geom_boxplot()\n\n\n\n\n\n\n\nSummary: * the median GOP % of votes in counties that are historically red (75%) is higher than in counties that are historically purple (~65%) and much higher than historically blue counties (~55%) * there are lot more low outliers for red counties than blue or purple counties –&gt; maybe b/c the median is higher, so more low outliers\nExercise 8\nExercise 9\n\n# you can't see the right side of the density plots b/c they're blocked by another plot on top of it. also the colors don't exactly match the historical color, which is confusing to look at\nggplot(elections, aes(x=repub_pct_20, fill=historical))+\n  geom_density()\n\n\n\n\n\n\n# scale_fill_manual lets you manually pick specific colors for each density plot?\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_density() +\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\"))\n\n\n\n\n\n\n# alpha = 0.5 makes the graphs transparent (you can see the ones below)\n# Play around with different values of alpha, between 0 and 1\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_density(alpha = 0.3) +\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\"))\n\n\n\n\n\n\n# facet_wrap seperates the density plots onto seperate charts (no longer overlapping on the same plot)\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_density() +\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\")) +\n  facet_wrap(~ historical)\n\n\n\n\n\n\n# Let's try a similar grouping strategy with a histogram instead of density plot.\n# too many overlapping bars; you cant see the count if a bar is in front of it\nggplot(elections, aes(x = repub_pct_20, fill = historical)) +\n  geom_histogram(color = \"white\") +\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\"))\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\nExercise 10\n\nWhich do you like the best?\n\nbox plot\n\n\nWhat is one pro of density plots relative to boxplots?\n\nif there are a lot of outliers, the boxplots show a lot of dots, but the density plot would have a tail\nbox plots don’t how many observations there are, but a density plot does\n\n\nWhat is one con of density plots relative to boxplots?\n\nit’s harder to determine the median and 1st/3rd quartiles on a density plot (have to eyeball the median, but it’s more clear on a boxplot)\n\n\nExample 11\n\nggplot(elections, aes(x=historical, fill=winner_20))+\n  geom_bar()\n\n\n\n\n\n\nggplot(elections, aes(x=winner_20,fill=historical))+\n  geom_bar()+\n  scale_fill_manual(values=c(\"grey\",\"grey\",\"grey\"))+\n  facet_wrap(~historical)\n\n\n\n\n\n\n\nExercise 12\n\n# A stacked bar plot\n# \"x\" sets the variable to the x-axis (historical), but \"fill\" seperates in the number of winners for each county (winner_20) \n# eg of the historically red counties, what number voted republican or democrat? --&gt; stacked bar plot\nggplot(elections, aes(x = historical, fill = winner_20)) +\n  geom_bar()\n\n\n\n\n\n\n# A faceted bar plot\nggplot(elections, aes(x = winner_20)) +\n  geom_bar() +\n  facet_wrap(~ historical)\n\n\n\n\n\n\n# A side-by-side bar plot\n# Note the new argument to geom_bar [position=\"dodge\"]\nggplot(elections, aes(x = historical, fill = winner_20)) +\n  geom_bar(position = \"dodge\")\n\n\n\n\n\n\n# A proportional bar plot\n# Note the new argument to geom_bar [position = \"fill\"]\n# relative frequency or proportions --&gt; each bar adds up to 100%\nggplot(elections, aes(x = historical, fill = winner_20)) +\n  geom_bar(position = \"fill\")\n\n\n\n\n\n\n\n\npros of the “proportional bar chart:”\n\nshows the proportion or percentage of observations for each variable (don’t have to calculate yourself, but in a stacked bar chart, you do)\n\n\ncon of the proportional bar chart:\n\ncan get messy or hard to read if there are multiple variables\nalso doesn’t work as well if you’re not dealing with proportions (eg just want counts)\n\n\ni like the side-by-side bar chart because it’s fun to look at and see the breakdown of variables\nExercise 13\n\nweather &lt;- read.csv(\"https://mac-stat.github.io/data/weather_3_locations.csv\")\nnames(weather)\n\n [1] \"date\"          \"location\"      \"mintemp\"       \"maxtemp\"      \n [5] \"rainfall\"      \"evaporation\"   \"sunshine\"      \"windgustdir\"  \n [9] \"windgustspeed\" \"winddir9am\"    \"winddir3pm\"    \"windspeed9am\" \n[13] \"windspeed3pm\"  \"humidity9am\"   \"humidity3pm\"   \"pressure9am\"  \n[17] \"pressure3pm\"   \"cloud9am\"      \"cloud3pm\"      \"temp9am\"      \n[21] \"temp3pm\"       \"raintoday\"     \"risk_mm\"       \"raintomorrow\" \n\n# How do 3pm temperatures (temp3pm) differ by location?\nggplot(weather, aes(x=location, y=temp3pm))+\n  geom_boxplot()\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\n\n\n\n\n\n# How might we predict the 3pm temperature (temp3pm) by the 9am temperature (temp9am)?\nggplot(weather, aes(x=temp9am, y=temp3pm))+\n  geom_point(shape=20)+\n  geom_smooth(method=\"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 27 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning: Removed 27 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n# How do the number of rainy days (raintoday) differ by location?\nggplot(weather, aes(x=location, fill=raintoday))+\n  geom_bar(position=\"dodge\")\n\n\n\n\n\n\n\nOptional Exercise 1\n\n# each state has its own density plot, and b/c there are 50 states + DC, there are 51 density plots on top of each other. Even if you make the graphs semi-transparent, it's nearly impossible to tell them apart\n# also, the key is overwhelmingly long and the colors are so similar\nggplot(elections, aes(x = repub_pct_20, fill = state_abbr)) + \n  geom_density(alpha = 0.5)\n\nWarning: Groups with fewer than two data points have been dropped.\n\n\nWarning in max(ids, na.rm = TRUE): no non-missing arguments to max; returning\n-Inf\n\n\n\n\n\n\n\n# facet wrap\n# too many charts and hard to compare from state to state when not on top of each other\nggplot(elections, aes(x = repub_pct_20)) + \n  geom_density(alpha = 0.5) + \n  facet_wrap(~ state_abbr)\n\nWarning: Groups with fewer than two data points have been dropped.\nno non-missing arguments to max; returning -Inf\n\n\n\n\n\n\n\n\n\n# Install ggridges package\nlibrary(ggridges)\n\n# Make our first joy plot\n# the density plots are so squished together and it's hard to track a state to it's respective graph b/c the y-axis is squished\nggplot(elections, aes(x = repub_pct_20, y = state_abbr)) + \n  geom_density_ridges()\n\nPicking joint bandwidth of 4.43\n\n\n\n\n\n\n\n# Let's put the states in order by Republican support, not alphabet\n# How do you think fct_reorder works? We'll learn about this later in the semester.\n# fct_reorder lets you manually reorder catagorical variable names so they're not in alphabetical order\nggplot(elections, aes(x = repub_pct_20, y = fct_reorder(state_abbr, repub_pct_20))) + \n  geom_density_ridges(alpha = 0.5)\n\nPicking joint bandwidth of 4.43\n\n\n\n\n\n\n\n# YOUR TURN: color/fill the ridges according to a state's historical voting patterns \n# and add meaningful axis labels\nggplot(elections, aes(x=repub_pct_20,y=fct_reorder(state_abbr, repub_pct_20), fill=historical))+\n  geom_density_ridges(alpha=0.5)+\n  scale_fill_manual(values = c(\"blue\", \"purple\", \"red\"))+\n  labs(x=\"% of GOP votes\", y=\"State\")\n\nPicking joint bandwidth of 4.43\n\n\n\n\n\n\n\n\n\nSo states with the most variability county to county would have a flatter bar (larger std dev), but least variability have a taller graph (smaller std dev, more concentrated by the mean)???\n\nHI, TN, WV have low variability\nVA, MN have high variability\n\n\nSome states have a high prop of counties w/ similar percentages of GOP voters, while others have more variation\nInteresting that some historically red states have a lower GOP vote % than historically blue states (eg NM is lower than IL)\n\nI think this could be due to states w/ high urban dem-voting pop but a lot of rural GOP-voting counties (eg Chicago vs rural IL counties)\nHow is % of GOP voters related to population density? Can urban vs rural explain the variation in GOP votes?",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Bivariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-multi.html",
    "href": "ica/ica-multi.html",
    "title": "\n8  Mulivariate Viz\n",
    "section": "",
    "text": "Review\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n# Import data\nweather &lt;- read.csv(\"https://mac-stat.github.io/data/weather_3_locations.csv\") |&gt; \n  mutate(date = as.Date(date))  \n\n# Check out the first 6 rows\nhead(weather)\n\n        date   location mintemp maxtemp rainfall evaporation sunshine\n1 2020-01-01 Wollongong    17.1    23.1        0          NA       NA\n2 2020-01-02 Wollongong    17.7    24.2        0          NA       NA\n3 2020-01-03 Wollongong    19.7    26.8        0          NA       NA\n4 2020-01-04 Wollongong    20.4    35.5        0          NA       NA\n5 2020-01-05 Wollongong    19.8    21.4        0          NA       NA\n6 2020-01-06 Wollongong    18.3    22.9        0          NA       NA\n  windgustdir windgustspeed winddir9am winddir3pm windspeed9am windspeed3pm\n1         SSW            39        SSW        SSE           20           15\n2         SSW            37          S        ENE           13           15\n3          NE            41        NNW        NNE            7           17\n4         SSW            78         NE        NNE           15           17\n5         SSW            57        SSW          S           31           35\n6          NE            35        ESE         NE           17           20\n  humidity9am humidity3pm pressure9am pressure3pm cloud9am cloud3pm temp9am\n1          69          64      1014.9      1014.0        8        1    19.1\n2          72          54      1020.1      1017.7        7        1    19.8\n3          72          71      1017.5      1013.0        6       NA    23.4\n4          77          69      1008.8      1003.9       NA       NA    24.5\n5          70          75      1018.9      1019.9       NA        7    20.7\n6          71          71      1021.2      1018.2       NA       NA    20.9\n  temp3pm raintoday risk_mm raintomorrow\n1    22.9        No     0.0           No\n2    23.6        No     0.0           No\n3    25.7        No     0.0           No\n4    26.7        No     0.0           No\n5    20.0        No     0.0           No\n6    22.6        No     0.8           No\n\n# What are the units of observation?\n# weather on a certain date\n\n# How many data points do we have? \ndim(weather)\n\n[1] 2367   24\n\n2367*24\n\n[1] 56808\n\n# What type of variables do we have?\nstr(weather)\n\n'data.frame':   2367 obs. of  24 variables:\n $ date         : Date, format: \"2020-01-01\" \"2020-01-02\" ...\n $ location     : chr  \"Wollongong\" \"Wollongong\" \"Wollongong\" \"Wollongong\" ...\n $ mintemp      : num  17.1 17.7 19.7 20.4 19.8 18.3 19.9 20.1 19.8 20.5 ...\n $ maxtemp      : num  23.1 24.2 26.8 35.5 21.4 22.9 25.6 23.2 23.1 25.4 ...\n $ rainfall     : num  0 0 0 0 0 0 0.8 1.6 0 0 ...\n $ evaporation  : num  NA NA NA NA NA NA NA NA NA NA ...\n $ sunshine     : num  NA NA NA NA NA NA NA NA NA NA ...\n $ windgustdir  : chr  \"SSW\" \"SSW\" \"NE\" \"SSW\" ...\n $ windgustspeed: int  39 37 41 78 57 35 44 41 39 56 ...\n $ winddir9am   : chr  \"SSW\" \"S\" \"NNW\" \"NE\" ...\n $ winddir3pm   : chr  \"SSE\" \"ENE\" \"NNE\" \"NNE\" ...\n $ windspeed9am : int  20 13 7 15 31 17 30 31 24 19 ...\n $ windspeed3pm : int  15 15 17 17 35 20 7 33 26 39 ...\n $ humidity9am  : int  69 72 72 77 70 71 76 77 76 79 ...\n $ humidity3pm  : int  64 54 71 69 75 71 72 76 79 76 ...\n $ pressure9am  : num  1015 1020 1018 1009 1019 ...\n $ pressure3pm  : num  1014 1018 1013 1004 1020 ...\n $ cloud9am     : int  8 7 6 NA NA NA NA 8 NA NA ...\n $ cloud3pm     : int  1 1 NA NA 7 NA NA NA NA NA ...\n $ temp9am      : num  19.1 19.8 23.4 24.5 20.7 20.9 22.9 21.3 21.2 23 ...\n $ temp3pm      : num  22.9 23.6 25.7 26.7 20 22.6 24.9 22.2 22.2 25.1 ...\n $ raintoday    : chr  \"No\" \"No\" \"No\" \"No\" ...\n $ risk_mm      : num  0 0 0 0 0 0.8 1.6 0 0 1 ...\n $ raintomorrow : chr  \"No\" \"No\" \"No\" \"No\" ...",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Mulivariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-multi.html#review",
    "href": "ica/ica-multi.html#review",
    "title": "\n8  Mulivariate Viz\n",
    "section": "",
    "text": "Example 1\n\nggplot(weather, aes(x=temp3pm))+\n  geom_density()\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\n\n\n\n\n\n\nExample 2\nHow do afternoon temperatures (temp3pm) differ by location?\n\n# plot 2 (no facets or densities)\nggplot(weather, aes(x=temp3pm, fill=location))+\n  geom_histogram(color=\"white\")\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n# plot 3 (facets)\nggplot(weather, aes(x=temp3pm, fill=location))+\n  geom_histogram(color=\"white\",binwidth=3)+\n  facet_wrap(~location)\n\nWarning: Removed 19 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\nExample 3\n\n# Don't worry about the syntax (we'll learn it soon)\nwoll &lt;- weather |&gt;\n  filter(location == \"Wollongong\") |&gt; \n  mutate(date = as.Date(date))  \n\n# How often does it raintoday?\n# Fill your geometric layer with the color blue.\nggplot(woll, aes(x = raintoday))+\n  geom_bar(fill=\"blue\")\n\n\n\n\n\n\n# If it does raintoday, what does this tell us about raintomorrow?\n# Use your intuition first\nggplot(woll, aes(x = raintoday, fill=raintomorrow))+\n  geom_bar(position=\"fill\") \n\n\n\n\n\n\n\nExample 4\n\n# THINK: What variable goes on the y-axis?\n# For the curve, try adding span = 0.5 to tweak the curvature\nggplot(woll, aes(x=date, y=temp3pm))+\n  geom_point()+\n  geom_smooth(span=0.5)\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\nWarning: Removed 18 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning: Removed 18 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n# Instead of a curve that captures the general TREND,\n# draw a line that illustrates the movement of RAW temperatures from day to day\n# NOTE: We haven't learned this geom yet! Guess.\nggplot(woll, aes(y = temp3pm, x = date))+\n  geom_point()+\n  geom_line()\n\nWarning: Removed 18 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nthe temperature is higher in January/summer months, but lower in July/winter months\nit tends to vary with the seasons in a sinusoidal pattern\nsome outliers (eg very hot days or very cold days)\nExample 5\n\n# Plot temp3pm vs temp9am\n# Change the code in order to indicate the location to which each data point corresponds\nggplot(weather, aes(y = temp3pm, x = temp9am, color=location)) + \n  geom_point()\n\nWarning: Removed 27 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n  scale_shape_manual(values=c(3,4,2))\n\n&lt;ggproto object: Class ScaleDiscrete, Scale, gg&gt;\n    aesthetics: shape\n    axis_order: function\n    break_info: function\n    break_positions: function\n    breaks: waiver\n    call: call\n    clone: function\n    dimension: function\n    drop: TRUE\n    expand: waiver\n    get_breaks: function\n    get_breaks_minor: function\n    get_labels: function\n    get_limits: function\n    get_transformation: function\n    guide: legend\n    is_discrete: function\n    is_empty: function\n    labels: waiver\n    limits: NULL\n    make_sec_title: function\n    make_title: function\n    map: function\n    map_df: function\n    n.breaks.cache: NULL\n    na.translate: TRUE\n    na.value: NA\n    name: waiver\n    palette: function\n    palette.cache: NULL\n    position: left\n    range: environment\n    rescale: function\n    reset: function\n    train: function\n    train_df: function\n    transform: function\n    transform_df: function\n    super:  &lt;ggproto object: Class ScaleDiscrete, Scale, gg&gt;\n\n# Change the code in order to indicate the location to which each data point corresponds\n# AND identify the days on which it rained / didn't raintoday\nggplot(weather, aes(y = temp3pm, x = temp9am, color=location, shape=raintoday)) + \n  geom_point()+\n  scale_shape_manual(values=c(1,2))\n\nWarning: Removed 69 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n# Change the code in order to construct a line plot of temp3pm vs date for each separate location (no points!)\nggplot(weather, aes(y = temp3pm, x = date, color = location)) + \n  geom_line()",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Mulivariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-multi.html#in-class-exercises",
    "href": "ica/ica-multi.html#in-class-exercises",
    "title": "\n8  Mulivariate Viz\n",
    "section": "\n8.1 In-Class Exercises",
    "text": "8.1 In-Class Exercises\n\n# Import and check out data\neducation &lt;- read.csv(\"https://mac-stat.github.io/data/sat.csv\")\nhead(education)\n\n       State expend ratio salary frac verbal math  sat  fracCat\n1    Alabama  4.405  17.2 31.144    8    491  538 1029   (0,15]\n2     Alaska  8.963  17.6 47.951   47    445  489  934 (45,100]\n3    Arizona  4.778  19.3 32.175   27    448  496  944  (15,45]\n4   Arkansas  4.459  17.1 28.934    6    482  523 1005   (0,15]\n5 California  4.992  24.0 41.078   45    417  485  902  (15,45]\n6   Colorado  5.443  18.4 34.571   29    462  518  980  (15,45]\n\nlibrary(tidyverse)\n\nExercise 1\n\nggplot(education, aes(x=sat))+\n  geom_density()\n\n\n\n\n\n\n\nObservations * The main peak is around 900, but there is a second, smaller peak near 1050 * range: 800 to 1100 * the mean might be skewed high due to the high outliers, but expected outcome is between 900 and 1000 * states with less poor people have higher scores…\nExercise 2\n\n# Construct a plot of sat vs expend\n# Include a \"best fit linear regression model\" (HINT: method = \"lm\")\n\nggplot(education, aes(x=expend, y=sat))+\n  geom_point()+\n  geom_smooth(method=\"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n# Construct a plot of sat vs salary\n# Include a \"best fit linear regression model\" (HINT: method = \"lm\")\n\nggplot(education, aes(x=salary, y=sat))+\n  geom_point()+\n  geom_smooth(method=\"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nObservations * The relationship between spending (expendature or salary) seems to be negative… * As spending goes up, SAT scores go down (seems counter-intuitive) * However, the relationship doesn’t look very strong\nExercise 3\n\nggplot(education, aes(x=salary, y=sat, color=expend))+\n  geom_point()\n\n\n\n\n\n\n\n\n8.1.1 Exercise 4\n\n# splits the best-fit line into multiple lines to better fit the data\n# changing \"2\" to \"3\" generates more lines\nggplot(education, aes(y = sat, x = salary, color = cut(expend, 3))) + \n  geom_point() + \n  geom_smooth(se = FALSE, method = \"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\nfor most of the data, there is a negative relationship between salary and SAT\nbut, when salary is greater than 45, the relationship is positive. these few points have a higher salary and expenses, but lower SAT scores than states w/ low salary and low spending\nExercise 5\n\nggplot(education, aes(x=fracCat))+\n  geom_bar()\n\n\n\n\n\n\n\n\nggplot(education, aes(x=sat, fill=fracCat))+\n  geom_density(alpha=0.7)+\n  facet_wrap(~fracCat)\n\n\n\n\n\n\n\n\nstates where a lower fraction of students take the SAT have a higher average SAT score (~1050), but states with a greater number of students that take the SAT have a noticiably lower average score (~900)\nif less students take the test, it’s probably the best students who take it, which causes the average to go up\nif more students take the SAT in a state, the greater number of test-takers causes the average to go down (eg people who are forced to take it and don’t try)\n\n\nggplot(education, aes(x=expend, y=sat, color=fracCat))+\n  geom_point()+\n  geom_smooth(method=\"lm\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\n\nstates w/ higher average SAT scores spend the same amount, if not less, than states with lower SAT scores\nhowever, the cluster of points with high SAT scores are all from states with low percentage of students that take the test (0-15%)\nwhen just looking at the blue points (45-100%), as spending increases, SAT score does appear to increase a little bit (the same trend is true within each fraction-SAT score goes up as spending increases)\nthe high outliers (high SAT, low spending) skew the slope of the best-fit line to be negative\n\nSimpson’s Paradox * Because different states have varying percentages of students that took the SAT, comparing SAT scores and spending shows that as spending increases, SAT score decreases. * The fraction of students that took the test (fracCat) is a confounding variable and skews the data visualization * if not required to take the sat, if a student is behind or struggling in school, they probably wouldn’t take the SAT and wouldn’t bring the average down",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Mulivariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-multi.html#optional-exercises",
    "href": "ica/ica-multi.html#optional-exercises",
    "title": "\n8  Mulivariate Viz\n",
    "section": "\n8.2 Optional Exercises",
    "text": "8.2 Optional Exercises",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Mulivariate Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-spatial.html",
    "href": "ica/ica-spatial.html",
    "title": "\n9  Spatial Viz\n",
    "section": "",
    "text": "Exercise 5\nLet’s summarize the punchlines by filling in the ???. It seemed that: * After renovation… * energy use increased.\nBUT this was explained by a confounding or omitted or lurking variable: month (or date) * After renovation… * most of the measurments were taken in winter months * which then leads to higher energy use.\nThus, when controlling for date, renovations led to decreased energy use.",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Spatial Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-spatial.html#new-exercises",
    "href": "ica/ica-spatial.html#new-exercises",
    "title": "\n9  Spatial Viz\n",
    "section": "\n9.1 New Exercises",
    "text": "9.1 New Exercises\nExercise 1\n\nfave_places &lt;- read.csv(\"https://hash-mac.github.io/stat112site-s25/data/our_fave_places.csv\")\n\n# Check it out\nhead(fave_places)\n\n  latitude longitude\n1       59        18\n2       45       -93\n3       33      -117\n4       40       116\n5       40       106\n6       37      -122\n\n# Load the leaflet package\nlibrary(leaflet)\n\n# Just a plotting frame\nleaflet(data = fave_places)\n\n\n\n\n# adds a world map to the frame\nleaflet(data = fave_places) |&gt; \n  addTiles()\n\n\n\n\n# adds markers of the coordinates for each place in the dataset\n# longitude and latitude refer to the variables in our data\nleaflet(data = fave_places) |&gt; \n  addTiles() |&gt; \n  addMarkers(lng = ~longitude, lat = ~latitude)\n\n\n\n\n\n\n# Load package needed to change color\nlibrary(gplots)\n\n\nAttaching package: 'gplots'\n\n\nThe following object is masked from 'package:stats':\n\n    lowess\n\n# We can add colored circles instead of markers at each location\nleaflet(data = fave_places) |&gt; \n  addTiles() |&gt; \n  addCircles(color = col2hex(\"red\"))\n\n\n\n\n# We can change the background\n# Mark locations with yellow dots\n# And connect the dots, in their order in the dataset, with green lines\n# (These green lines don't mean anything here, but would if this were somebody's travel path!)\nleaflet(data = fave_places) |&gt;\n  addProviderTiles(\"USGS\") |&gt;\n  addCircles(weight = 10, opacity = 1, color = col2hex(\"yellow\")) |&gt;\n  addPolylines(\n    lng = ~longitude,\n    lat = ~latitude,\n    color = col2hex(\"green\")\n  )\n\n\n\n\n\nExercise 2\n\n# Import starbucks location data\nstarbucks &lt;- read.csv(\"https://mac-stat.github.io/data/starbucks.csv\")\n\n# Don't worry about the syntax\nstarbucks_mn &lt;- starbucks |&gt;   \n  filter(Country == \"US\", State.Province == \"MN\")\n\nleaflet(data=starbucks_mn) |&gt;\n  addTiles() |&gt;\n  addMarkers(lng = ~Longitude, lat = ~Latitude)\n\n\n\n\n\nExercise 3\n\nggplot(starbucks, aes(x=Longitude, y=Latitude))+\n  geom_point(alpha=0.5, size=0.2)\n\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nthe plot shows Starbucks locations in the world, but it’s easier to makeout where they are in denser areas because they match the geography of continents\nin areas with fewer Starbucks’, it’s harder to tell where they are in the world\n\n\n# Load the package\nlibrary(rnaturalearth)\n\n# Get info about country boundaries across the world\n# in a \"sf\" or simple feature format\nworld_boundaries &lt;- ne_countries(returnclass = \"sf\")\n\n# makes a plot with the borders of the countires \n# geom_sf() does something...\nggplot(world_boundaries) + \n  geom_sf()\n\n\n\n\n\n\n\n\n# Load package needed to change map theme\nlibrary(mosaic)\n\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\n\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\n\n\nAttaching package: 'mosaic'\n\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n\n# Add a point for each Starbucks\n# NOTE: The Starbucks info is in our starbucks data, not world_boundaries\n# still making a scatterplot with Starbucks locations, using longitude and latitude coordinates as the x and y values, but there is a background map to contextualize the points\nggplot(world_boundaries) + \n  geom_sf() + \n  geom_point(\n    data = starbucks,\n    aes(x = Longitude, y = Latitude),\n    alpha = 0.3, size = 0.2, color = \"darkgreen\"\n  ) +\n  theme_map()\n\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\nPart C\nsummary: Starbucks’ are mainly in the more populated parts of the Northern Hemisphere (eg US, UK, China, Japan, South Korea). There are a some locations scattered throughout other countries, but in large cities (eg Sydney, Melbourne in Australia)\nExercise 5\n\n# We'll learn this syntax soon! Don't worry about it now.\nstarbucks_cma &lt;- starbucks |&gt; \n  filter(Country %in% c('CA', 'MX', 'US'))\n\ncma_boundaries&lt;- ne_states(\n  country = c(\"canada\", \"mexico\", \"united states of america\"),\n  returnclass = \"sf\")\n\n# Just the boundaries\nggplot(cma_boundaries) + \n  geom_sf()\n\n\n\n\n\n\n\n\n# Add the points\n# And zoom in\nggplot(cma_boundaries) + \n  geom_sf() + \n  geom_point(\n    data = starbucks_cma,\n    aes(x = Longitude, y = Latitude),\n    alpha = 0.3,\n    size = 0.2,\n    color = \"darkgreen\"\n  ) +\n  coord_sf(xlim = c(-179.14, -50)) +\n  theme_map()\n\n\n\n\n\n\n\nExercise 6\n\nstarbucks_midwest &lt;- starbucks |&gt; \n  filter(State.Province %in% c(\"MN\", \"ND\", \"SD\", \"WI\"))\n\n# Load packages\nlibrary(sf)\n\nLinking to GEOS 3.13.0, GDAL 3.10.1, PROJ 9.5.1; sf_use_s2() is TRUE\n\nlibrary(maps)\n\n\nAttaching package: 'maps'\n\n\nThe following object is masked from 'package:purrr':\n\n    map\n\n# Get the boundaries\nmidwest_boundaries &lt;- st_as_sf(\n  maps::map(\"county\",\n            region = c(\"minnesota\", \"wisconsin\", \"north dakota\", \"south dakota\"), \n            fill = TRUE, plot = FALSE))\n\n# Check it out\nhead(midwest_boundaries)\n\nSimple feature collection with 6 features and 1 field\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -96.81268 ymin: 45.05167 xmax: -93.01397 ymax: 48.53526\nGeodetic CRS:  +proj=longlat +ellps=clrk66 +no_defs +type=crs\n                                     ID                           geom\nminnesota,aitkin       minnesota,aitkin MULTIPOLYGON (((-93.03689 4...\nminnesota,anoka         minnesota,anoka MULTIPOLYGON (((-93.51817 4...\nminnesota,becker       minnesota,becker MULTIPOLYGON (((-95.14537 4...\nminnesota,beltrami   minnesota,beltrami MULTIPOLYGON (((-95.58655 4...\nminnesota,benton       minnesota,benton MULTIPOLYGON (((-93.77027 4...\nminnesota,big stone minnesota,big stone MULTIPOLYGON (((-96.10794 4...\n\n\n\nggplot(midwest_boundaries)+\n  geom_sf()+\n  geom_point(\n  data=starbucks_midwest, \n  aes(x=Longitude, y=Latitude),\n  alpha = 0.7,\n  size = 0.3,\n  color = \"darkgreen\")+\n  theme_map()\n\n\n\n\n\n\n\nExercise 7\n\n# What changed in the plot?\n# Instead of points representing each datapoint, there are now contour lines representing areas with high density of Starbucks locations\n# Outer lines represent the outer boundries of the region and the more contours there are, the greater the density\n# What changed in our code?!\n# switched from geom_point() to geom_density_2d()\nggplot(cma_boundaries) + \n  geom_sf() + \n  geom_density_2d(\n    data = starbucks_cma,\n    aes(x = Longitude, y = Latitude),\n    size = 0.2,\n    color = \"darkgreen\"\n  ) +\n  coord_sf(xlim = c(-179.14, -50), ylim = c(14.54, 83.11)) +\n  theme_map()\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Spatial Viz</span>"
    ]
  },
  {
    "objectID": "ica/ica-spatial.html#part-3-choropleth-maps",
    "href": "ica/ica-spatial.html#part-3-choropleth-maps",
    "title": "\n9  Spatial Viz\n",
    "section": "Part 3: Choropleth Maps",
    "text": "Part 3: Choropleth Maps\nExercise 8\n\nelections_by_state &lt;-  read.csv(\"https://mac-stat.github.io/data/election_2020_by_state.csv\")\nelections_by_counties &lt;- read.csv(\"https://mac-stat.github.io/data/election_2020_county.csv\")\n\n# Don't worry about the code!\n\nelections_by_state &lt;- elections_by_state |&gt; \n  filter(state_abbr != \"DC\") |&gt; \n  select(state_name, state_abbr, repub_pct_20) |&gt; \n  mutate(repub_20_categories = \n           cut(repub_pct_20, \n               breaks = seq(30, 70, by = 5), \n               labels = c(\"30-34\", \"35-39\", \"40-44\", \"45-49\",\n                          \"50-54\", \"55-59\", \"60-64\", \"65-70\"), \n               include.lowest = TRUE))\n\nelections_by_counties &lt;- elections_by_counties |&gt; \n  select(state_name, state_abbr, county_name, county_fips,\n          repub_pct_20, median_age, median_rent) |&gt; \n  mutate(repub_20_categories = \n           cut(repub_pct_20, \n               breaks = seq(0, 100, by = 10),\n               labels = c(\"0-9\", \"10-19\", \"20-29\", \"30-39\", \"40-49\",\n                          \"50-59\", \"60-69\", \"70-79\", \"80-89\", \"90-100\"),\n               include.lowest = TRUE))\n\n\n# Get the latitude and longitude coordinates of state boundaries\nstates_map &lt;- map_data(\"state\")\n\n# Check it out\nhead(states_map)\n\n       long      lat group order  region subregion\n1 -87.46201 30.38968     1     1 alabama      &lt;NA&gt;\n2 -87.48493 30.37249     1     2 alabama      &lt;NA&gt;\n3 -87.52503 30.37249     1     3 alabama      &lt;NA&gt;\n4 -87.53076 30.33239     1     4 alabama      &lt;NA&gt;\n5 -87.57087 30.32665     1     5 alabama      &lt;NA&gt;\n6 -87.58806 30.32665     1     6 alabama      &lt;NA&gt;\n\n# elections_by_state gets the republican percentage for each state\n# states_map is used to create a map/plot of all the states\n\nggplot(elections_by_state, aes(map_id = state_name, fill = repub_pct_20)) +\n  geom_map(map = states_map) +\n  expand_limits(x = states_map$long, y = states_map$lat) +\n  theme_map()\n\n\n\n\n\n\n# change scale colors\nggplot(elections_by_state, aes(map_id = state_name, fill = repub_pct_20)) +\n  geom_map(map = states_map, color=\"white\", linewidth = 0.3) +\n  expand_limits(x = states_map$long, y = states_map$lat) +\n  theme_map()+\n  scale_fill_gradientn(name = \"% Republican\", colors = c(\"blue\", \"purple\",\"red\"), values = scales::rescale(seq(0,100, by =5)))\n\n\n\n\n\n\n\n\n# another way to do scale - more discrete\nggplot(elections_by_state, aes(map_id = state_name, fill = repub_20_categories)) +\n  geom_map(map = states_map, color = \"white\") +\n  expand_limits(x = states_map$long, y = states_map$lat) +\n  theme_map()\n\n\n\n\n\n\n# Load package needed for refining color palette\nlibrary(RColorBrewer)\n\n# Now fix the colors\nggplot(elections_by_state, aes(map_id = state_name, fill = repub_20_categories)) +\n  geom_map(map = states_map, color = \"black\") +\n  expand_limits(x = states_map$long, y = states_map$lat) +\n  theme_map() + \n  scale_fill_manual(values = rev(brewer.pal(8, \"RdBu\")), name = \"% Republican\")\n\n\n\n\n\n\n\n\n# Get only the starbucks data from the US\nstarbucks_us &lt;- starbucks |&gt; \n  filter(Country == \"US\")\n\n# Map it\nggplot(elections_by_state, aes(map_id = state_name, fill = repub_20_categories)) +\n  geom_map(map = states_map) +\n  geom_point(\n    data = starbucks_us,\n    aes(x = Longitude, y = Latitude),\n    size = 0.05,\n    alpha = 0.2,\n    inherit.aes = FALSE\n  ) +\n  expand_limits(x = states_map$long, y = states_map$lat) +\n  theme_map() + \n  scale_fill_manual(values = rev(brewer.pal(8, \"RdBu\")), name = \"% Republican\")\n\n\n\n\n\n\n\nthere are more starbucks’ in urban areas…and urban areas tend to be more democratic than rural areas (lean republican…and would have lower denisty of Starucks)\nExercise 9\n\n# Get the latitude and longitude coordinates of county boundaries\nlibrary(socviz)\ndata(county_map) \n\n# Check it out\nhead(county_map)\n\n     long      lat order  hole piece            group    id\n1 1225889 -1275020     1 FALSE     1 0500000US01001.1 01001\n2 1235324 -1274008     2 FALSE     1 0500000US01001.1 01001\n3 1244873 -1272331     3 FALSE     1 0500000US01001.1 01001\n4 1244129 -1267515     4 FALSE     1 0500000US01001.1 01001\n5 1272010 -1262889     5 FALSE     1 0500000US01001.1 01001\n6 1276797 -1295514     6 FALSE     1 0500000US01001.1 01001\n\n# Add 0's at the beginning of any fips_code that's fewer than 5 numbers long\n# Don't worry about the syntax\nelections_by_counties &lt;- elections_by_counties |&gt; \n  mutate(county_fips = as.character(county_fips)) |&gt; \n  mutate(county_fips = \n           ifelse(nchar(county_fips) == 4, paste0(\"0\", county_fips), county_fips))\n\nggplot(elections_by_counties, aes(map_id = county_fips, fill = repub_20_categories)) +\n  geom_map(map = county_map) +\n  scale_fill_manual(values = rev(brewer.pal(10, \"RdBu\")), name = \"% Republican\") +\n  expand_limits(x = county_map$long, y = county_map$lat) +\n  theme_map() +\n  theme(legend.position = \"right\") + \n  coord_equal()\n\n\n\n\n\n\n\nExercise 10\n\n# county map with median_rent\n\n# create variable for median_rent_categories\nelections_by_counties &lt;- elections_by_counties |&gt; \n  select(state_name, state_abbr, county_name, county_fips,\n          repub_pct_20, median_age, median_rent) |&gt; \n  mutate(median_rent_categories = \n           cut(median_rent, \n               breaks = seq(0, 1750, by = 250),\n               labels = c(\"0-249\", \"250-499\", \"500-749\", \"750-999\", \"1000-1249\",\n                          \"1250-1499\", \"1500-1749\"),\n               include.lowest = TRUE))\n\n# create map\nggplot(elections_by_counties, aes(map_id = county_fips, fill = median_rent_categories))+\n  geom_map(map = county_map, color=\"black\", linewidth=0.05) +\n  expand_limits(x = county_map$long, y = county_map$lat) +\n  theme_map()+\n  theme(legend.position = \"right\")+\n  scale_fill_manual(values = rev(brewer.pal(7, \"RdBu\")), name = \"Median Rent\")\n\n\n\n\n\n\n\n\n# median age plot!\n\n# create median_age_categories variable\nelections_by_counties &lt;- elections_by_counties |&gt; \n  select(state_name, state_abbr, county_name, county_fips,\n          repub_pct_20, median_age, median_rent) |&gt; \n  mutate(median_age_categories = \n           cut(median_age, \n               breaks = seq(20, 70, by = 10),\n               labels = c(\"20-29\", \"30-39\", \"40-49\", \"50-59\", \"60-69\"),\n               include.lowest = TRUE))\n\n# create the map\nggplot(elections_by_counties, aes(map_id = county_fips, fill = median_age_categories))+\n  geom_map(map=county_map, color = \"white\", linewidth = 0.01)+\n  expand_limits(x = county_map$long, y = county_map$lat)+\n  theme_map()\n\n\n\n\n\n\n\n\nmedian age in most counties is between 30 and 50\nUtah has a lot of younger people (20-29) –&gt; is it the high Mormon population with young children?",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>9</span>  <span class='chapter-title'>Spatial Viz</span>"
    ]
  },
  {
    "objectID": "ica/quarto-demo.html",
    "href": "ica/quarto-demo.html",
    "title": "\n10  My first Quarto document\n",
    "section": "",
    "text": "10.1 Intro\nMacalester College is in the Twin Cities. It has:\nCheck it out for yourself:",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>My first Quarto document</span>"
    ]
  },
  {
    "objectID": "ica/quarto-demo.html#intro",
    "href": "ica/quarto-demo.html#intro",
    "title": "\n10  My first Quarto document\n",
    "section": "",
    "text": "four seasons\nbagpipes\ndelightful students",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>My first Quarto document</span>"
    ]
  },
  {
    "objectID": "ica/quarto-demo.html#exercise-1-deduce-quarto-features",
    "href": "ica/quarto-demo.html#exercise-1-deduce-quarto-features",
    "title": "\n10  My first Quarto document\n",
    "section": "\n10.2 Exercise 1: Deduce Quarto features",
    "text": "10.2 Exercise 1: Deduce Quarto features\nCheck out the appearance and contents of this document. Thoughts?\nIn the toolbar at the top of this document, Render the .qmd file into a .html file. Where is this file stored? Thoughts about its appearance / contents? Can you edit it?\nToggling between the .qmd and .html files, explain the purpose of the following features in the .qmd file:\n*\n**\n#\n-\n\\\n![](url)",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>My first Quarto document</span>"
    ]
  },
  {
    "objectID": "ica/quarto-demo.html#exercise-2-code",
    "href": "ica/quarto-demo.html#exercise-2-code",
    "title": "\n10  My first Quarto document\n",
    "section": "\n10.3 Exercise 2: Code",
    "text": "10.3 Exercise 2: Code\nHow does this appear in the .qmd? The .html? So…?!\nseq(from = 100, to = 1000, by = 50)",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>My first Quarto document</span>"
    ]
  },
  {
    "objectID": "ica/quarto-demo.html#exercise-3-chunks",
    "href": "ica/quarto-demo.html#exercise-3-chunks",
    "title": "\n10  My first Quarto document\n",
    "section": "\n10.4 Exercise 3: Chunks",
    "text": "10.4 Exercise 3: Chunks\nQuarto isn’t a mind reader – we must distinguish R code from text. We do so by putting code inside an R chunk:\n\nseq(from = 100, to = 1000, by = 50)\n\n [1]  100  150  200  250  300  350  400  450  500  550  600  650  700  750  800\n[16]  850  900  950 1000\n\n\n\nPut the seq() code in the chunk.\nPress the green arrow in the top right of the chunk. What happens in the qmd?\nRender. What appears in the html: R code, output, or both?",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>My first Quarto document</span>"
    ]
  },
  {
    "objectID": "ica/quarto-demo.html#exercise-4-practice",
    "href": "ica/quarto-demo.html#exercise-4-practice",
    "title": "\n10  My first Quarto document\n",
    "section": "\n10.5 Exercise 4: Practice",
    "text": "10.5 Exercise 4: Practice\n\nUse R code to create the following sequence: 10 10 10 10\nStore the sequence as four_tens.\nUse an R function (which we haven’t learned!) to add up the numbers in four_tens.\n\n\nfour_tens&lt;-rep(10,4)\nfour_tens\n\n[1] 10 10 10 10\n\nsum(four_tens)\n\n[1] 40",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>My first Quarto document</span>"
    ]
  },
  {
    "objectID": "ica/quarto-demo.html#exercise-5-fix-this-code",
    "href": "ica/quarto-demo.html#exercise-5-fix-this-code",
    "title": "\n10  My first Quarto document\n",
    "section": "\n10.6 Exercise 5: Fix this code",
    "text": "10.6 Exercise 5: Fix this code\nCode is a form of communication, and the code below doesn’t cut it.\nPut the code in a chunk and fix it.\n\nrep(x = 1, times = 10)\n\n [1] 1 1 1 1 1 1 1 1 1 1\n\nseq(from=100,to=1000,length=20)\n\n [1]  100.0000  147.3684  194.7368  242.1053  289.4737  336.8421  384.2105\n [8]  431.5789  478.9474  526.3158  573.6842  621.0526  668.4211  715.7895\n[15]  763.1579  810.5263  857.8947  905.2632  952.6316 1000.0000\n\nNo_students_in_class&lt;-27\nNo_students_in_class \n\n[1] 27",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>My first Quarto document</span>"
    ]
  },
  {
    "objectID": "ica/quarto-demo.html#exercise-6-comments",
    "href": "ica/quarto-demo.html#exercise-6-comments",
    "title": "\n10  My first Quarto document\n",
    "section": "\n10.7 Exercise 6: Comments",
    "text": "10.7 Exercise 6: Comments\nRun the chunk below. Notice that R ignores anything in a line starting with a pound sign (#). If we took the # away we’d get an error!\n\n# This is a comment\n4 + 5\n\n[1] 9\n\n\nWe’ll utilize this feature to comment our code, i.e. leave short notes about what our code is doing. Below, replace the ??? with an appropriate comment.\n\n# create variables for temp in C and temp in F\n# convert *C to *F\n# display temp in *F\ntemperature_c &lt;- 10\ntemperature_f &lt;- temperature_c * 9/5 + 32\ntemperature_f\n\n[1] 50",
    "crumbs": [
      "In-class Activities",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>My first Quarto document</span>"
    ]
  }
]